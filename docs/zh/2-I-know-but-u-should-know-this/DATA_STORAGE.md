# 理解以太坊虚拟机（EVM）中的数据存储

想象EVM是一个智能办公室，在这里存储和处理数据。这个办公室有三种形式来处理信息：**存储(storage)**、**内存(memory)**和**栈(stack)**。

## Stack | 栈：你的手

栈就像在你手中处理一叠纸：

* 有限空间：你只能拿住最多1024张纸（element）。
* 后进先出：你必须首先处理最上面的文件。
* 受限访问：你可以轻松处理最上面的16张纸，但要到达下面的纸，你需要先移除上面的纸。
* 快速操作：从栈顶添加或移除纸张非常快。

## Memory | 内存：白板

> 使用内存进行临时计算或存储你只需要短时间使用的信息。

内存就像会议室里的一个大白板：

* 临时性：每次会议后都会被擦干净（用技术术语说，就是在每次消息调用后）。
* 灵活性：你可以写小便条或大图表（8 bits或256 bits）。
* 可扩展：如果你需要更多空间，可以添加另一个白板，但随着添加更多白板，成本会变得更高（它呈指数增长）。
* 线性：信息以线性的形式存储，使得通过位置查找东西变得容易。

## Storage | 存储：文件柜

> 因为存储很昂贵，所以只在这里存储绝对必要的东西，比如你需要反复使用的重要文档。

把存储想象成一个巨大的、神奇的文件柜：

* 持久性：你放在这里的任何东西都会留在那里，即使你离开办公室（比如在函数调用或交易之间）。
* 昂贵：添加新文件或更改现有文件的成本很高。这就像为高级防火文件柜付费一样。
* 个人性：每个智能合约（把它想象成一个员工）都有自己的文件柜。没有人可以偷看或更改别人的文件。
* 巨大容量：每个抽屉可以容纳大量信息（256位字，在计算机术语中这是很大的）。
* 不易浏览：你不能轻易翻阅所有文件。你需要确切知道你在找什么。

记住，在以太坊的世界里，每一个小动作都要消耗一些gas（就像我们办公室类比中的电力）， 所以高效使用这些存储区域是创建经济高效的智能合约的关键！

